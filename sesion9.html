<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Módulo 9: Hablando el Idioma Universal de ISO</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .iso-gradient {
            background: linear-gradient(135deg, #06b6d4, #f59e0b, #1e40af);
            background-size: 250% 250%;
            animation: gradient-animation 20s ease infinite;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .reveal.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Estilos para el taller de mapeo */
        .evidence-item {
            cursor: grab;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .evidence-item:active {
            cursor: grabbing;
            transform: scale(1.05);
            box-shadow: 0 10px 15px -3px rgba(0,0,0,0.2);
            z-index: 10;
        }
        .drop-target {
            transition: background-color 0.3s, border-color 0.3s;
            min-height: 60px; /* Altura mínima para el drop */
        }
        .drop-target.drag-over {
            background-color: #dbeafe; /* blue-100 */
            border-color: #3b82f6; /* blue-500 */
        }
        .drop-target.filled {
            border-color: #22c55e; /* green-500 */
        }
        .quality-card {
            transition: transform 0.3s, border-color 0.3s;
        }
        .quality-card.active, .quality-card:hover {
            transform: scale(1.05);
            border-color: #f59e0b; /* amber-500 */
        }
    </style>
</head>
<body class="bg-slate-50 text-gray-900">

    <!-- ===== Header y Navegación ===== -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <div class="text-2xl font-bold text-gray-800">
                <i class="fas fa-globe-americas text-cyan-600"></i>
                Soporte de Auditoría TI
            </div>
            <div class="hidden md:flex space-x-6">
                <a href="#objetivos" class="text-gray-600 hover:text-cyan-600 transition duration-300">Objetivos</a>
                <a href="#iso27001" class="text-gray-600 hover:text-cyan-600 transition duration-300">ISO 27001</a>
                <a href="#iso25000" class="text-gray-600 hover:text-cyan-600 transition duration-300">ISO 25000</a>
                <a href="#caso-practico" class="text-gray-600 hover:text-cyan-600 transition duration-300">Taller</a>
            </div>
        </nav>
    </header>

    <!-- ===== Contenido Principal ===== -->
    <main>

        <!-- Sección Hero -->
        <section class="iso-gradient text-white py-20 md:py-32">
            <div class="container mx-auto px-6 text-center reveal">
                <h1 class="text-4xl md:text-6xl font-extrabold mb-4" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.4);">Sesión 09: ISO 27001 y 25000, el Lenguaje de la Confianza</h1>
                <p class="text-xl md:text-2xl max-w-3xl mx-auto" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.4);">Hoy te conviertes en un Arquitecto de Confianza, utilizando los manuales globales de Seguridad y Calidad.</p>
            </div>
        </section>

        <div class="container mx-auto px-6 py-12">
            <!-- Sección de Objetivos -->
            <section id="objetivos" class="mb-20 p-8 bg-white rounded-xl shadow-lg reveal">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">Tus Habilidades como Arquitecto ISO</h2>
                 <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8">
                    <div class="text-center p-6 bg-cyan-50 rounded-lg">
                        <i class="fas fa-shield-alt text-4xl text-cyan-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Construir Seguridad (ISO 27001)</h3>
                        <p class="text-gray-600">Entender cómo un SGSI protege la información de forma integral.</p>
                    </div>
                    <div class="text-center p-6 bg-cyan-50 rounded-lg">
                        <i class="fas fa-list-check text-4xl text-cyan-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Interpretar el Anexo A</h3>
                        <p class="text-gray-600">Conocer el catálogo de controles y el propósito de la Declaración de Aplicabilidad (SoA).</p>
                    </div>
                    <div class="text-center p-6 bg-amber-50 rounded-lg">
                        <i class="fas fa-award text-4xl text-amber-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Medir la Calidad (ISO 25000)</h3>
                        <p class="text-gray-600">Identificar las características clave que definen un software de alta calidad.</p>
                    </div>
                    <div class="text-center p-6 bg-amber-50 rounded-lg">
                        <i class="fas fa-map-signs text-4xl text-amber-600 mb-4"></i>
                        <h3 class="text-xl font-semibold mb-2">Mapear Evidencia</h3>
                        <p class="text-gray-600">Traducir el lenguaje de un control ISO a evidencia técnica específica y tangible.</p>
                    </div>
                </div>
            </section>

            <!-- Sección ISO 27001 -->
            <section id="iso27001" class="mb-20 p-8 bg-white rounded-xl shadow-lg reveal">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">ISO 27001: El Manual de Seguridad Corporativo</h2>
                <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">No es una lista de herramientas, es un **sistema de gestión** completo. El **Anexo A** es su catálogo de 114 controles. Explora algunos de los dominios más importantes:</p>
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 text-center">
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <i class="fas fa-user-friends text-3xl text-slate-600 mb-2"></i>
                        <h4 class="font-bold">A.8 Recursos Humanos</h4>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <i class="fas fa-id-card text-3xl text-slate-600 mb-2"></i>
                        <h4 class="font-bold">A.9 Control de Acceso</h4>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <i class="fas fa-key text-3xl text-slate-600 mb-2"></i>
                        <h4 class="font-bold">A.10 Criptografía</h4>
                    </div>
                    <div class="bg-slate-100 p-4 rounded-lg">
                        <i class="fas fa-shield-virus text-3xl text-slate-600 mb-2"></i>
                        <h4 class="font-bold">A.12 Operaciones</h4>
                    </div>
                </div>
                <div class="mt-8 bg-blue-50 border-l-4 border-blue-500 text-blue-800 p-4 rounded-r-lg">
                    <p><strong class="font-bold">Documento Clave:</strong> La **Declaración de Aplicabilidad (SoA)**. Es el documento donde le dices al auditor: "De los 114 controles, aplico estos 95 por estas razones, y justifico por qué no aplico los otros 19". Demuestra que tu seguridad es un plan meditado, no un accidente.</p>
                </div>
            </section>

            <!-- Sección ISO 25000 -->
            <section id="iso25000" class="mb-20 p-8 bg-white rounded-xl shadow-lg reveal">
                 <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">ISO 25000 (SQuaRE): El Chequeo Médico del Software</h2>
                 <p class="text-center text-gray-600 mb-12 max-w-3xl mx-auto">Esta norma mide la "salud" de tu software. Haz clic en cada característica para ver qué métricas te pediría un auditor para evaluarla.</p>
                <div class="grid md:grid-cols-4 gap-4">
                    <!-- Dashboard de Características -->
                    <div class="md:col-span-1 space-y-2">
                        <div id="card-funcionalidad" onclick="showQualityDetail('funcionalidad')" class="quality-card bg-white p-3 rounded-lg border-2 border-transparent cursor-pointer"><strong>Adecuación Funcional</strong></div>
                        <div id="card-fiabilidad" onclick="showQualityDetail('fiabilidad')" class="quality-card bg-white p-3 rounded-lg border-2 border-transparent cursor-pointer"><strong>Fiabilidad</strong></div>
                        <div id="card-usabilidad" onclick="showQualityDetail('usabilidad')" class="quality-card bg-white p-3 rounded-lg border-2 border-transparent cursor-pointer"><strong>Usabilidad</strong></div>
                        <div id="card-seguridad" onclick="showQualityDetail('seguridad')" class="quality-card bg-white p-3 rounded-lg border-2 border-transparent cursor-pointer"><strong>Seguridad</strong></div>
                    </div>
                    <!-- Detalle -->
                    <div class="md:col-span-3 bg-amber-50 p-6 rounded-lg min-h-[200px]">
                        <div id="detail-funcionalidad" class="quality-detail">
                            <h4 class="font-bold text-xl mb-2 text-amber-700">Evidencia de Adecuación Funcional</h4>
                            <p><strong>Pregunta del Auditor:</strong> "¿El software hace lo que se supone que debe hacer?"</p>
                            <p class="mt-2"><strong>Evidencia que debes proveer:</strong></p>
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>Reporte de pruebas de QA que valida el cumplimiento de los requerimientos.</li>
                                <li>Manual de usuario que describe las funciones.</li>
                            </ul>
                        </div>
                         <div id="detail-fiabilidad" class="quality-detail hidden">
                            <h4 class="font-bold text-xl mb-2 text-amber-700">Evidencia de Fiabilidad</h4>
                            <p><strong>Pregunta del Auditor:</strong> "¿El software se cae o falla a menudo?"</p>
                            <p class="mt-2"><strong>Evidencia que debes proveer:</strong></p>
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>Logs del monitor de sistema mostrando el Uptime (tiempo en línea).</li>
                                <li>Registro de tickets de soporte por "caídas del sistema" del último trimestre.</li>
                            </ul>
                        </div>
                        <div id="detail-usabilidad" class="quality-detail hidden">
                            <h4 class="font-bold text-xl mb-2 text-amber-700">Evidencia de Usabilidad</h4>
                            <p><strong>Pregunta del Auditor:</strong> "¿Es fácil de usar y entender para los usuarios?"</p>
                            <p class="mt-2"><strong>Evidencia que debes proveer:</strong></p>
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>Resultados de encuestas de satisfacción de usuarios.</li>
                                <li>Reporte de tiempo promedio para completar tareas comunes.</li>
                            </ul>
                        </div>
                        <div id="detail-seguridad" class="quality-detail hidden">
                            <h4 class="font-bold text-xl mb-2 text-amber-700">Evidencia de Seguridad</h4>
                            <p><strong>Pregunta del Auditor:</strong> "¿Es resistente a ataques y protege los datos?"</p>
                            <p class="mt-2"><strong>Evidencia que debes proveer:</strong></p>
                            <ul class="list-disc list-inside ml-4 mt-1">
                                <li>Reporte del último escaneo de vulnerabilidades (ej. Qualys, Nessus).</li>
                                <li>Evidencia de encripción de datos sensibles en la base de datos.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Caso Práctico -->
            <section id="caso-practico" class="reveal">
                <h2 class="text-3xl font-bold text-center text-gray-900 mb-2">Taller: Mapeo de Evidencia ISO 27001</h2>
                <p class="text-center text-gray-600 mb-12 max-w-4xl mx-auto">El auditor ha solicitado evidencia para 3 controles del Anexo A. Arrastra la "Evidencia Primaria" correcta desde el banco de evidencias a su control correspondiente.</p>

                <div class="grid lg:grid-cols-3 gap-8">
                    <!-- Tabla de Mapeo (Drop Targets) -->
                    <div class="lg:col-span-2 bg-white rounded-xl shadow-2xl p-6">
                        <table class="w-full">
                            <thead>
                                <tr class="border-b">
                                    <th class="p-3 font-semibold text-left">Control del Anexo A</th>
                                    <th class="p-3 font-semibold text-left">Evidencia Primaria a Presentar</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Control 1 -->
                                <tr class="border-b">
                                    <td class="p-3 align-top"><strong>A.9.2.2 - Provisión de acceso de usuario:</strong> Proceso formal de registro y baja de usuarios.</td>
                                    <td class="p-3 drop-target border-2 border-dashed" data-target="1"></td>
                                </tr>
                                <!-- Control 2 -->
                                <tr class="border-b">
                                    <td class="p-3 align-top"><strong>A.12.1.2 - Protección contra malware:</strong> Implementar y mantener protección contra código malicioso.</td>
                                    <td class="p-3 drop-target border-2 border-dashed" data-target="2"></td>
                                </tr>
                                <!-- Control 3 -->
                                <tr>
                                    <td class="p-3 align-top"><strong>A.12.3.1 - Respaldo de la información:</strong> Tomar y probar copias de respaldo regularmente.</td>
                                    <td class="p-3 drop-target border-2 border-dashed" data-target="3"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <!-- Banco de Evidencias (Draggables) -->
                    <div class="lg:col-span-1">
                        <h3 class="font-bold text-lg mb-4">Banco de Evidencias</h3>
                        <div id="evidence-bank" class="space-y-3 p-4 bg-gray-100 rounded-lg min-h-[300px]">
                            <div draggable="true" data-source="3" class="evidence-item bg-white p-3 rounded-lg shadow flex items-center gap-3"><i class="fas fa-file-archive text-green-500"></i> Reporte de trabajos de backup del último mes (con status "Exitoso").</div>
                            <div draggable="true" data-source="1" class="evidence-item bg-white p-3 rounded-lg shadow flex items-center gap-3"><i class="fas fa-user-plus text-blue-500"></i> 3 tickets de muestra de altas y bajas, con su formulario de solicitud y aprobación.</div>
                            <div draggable="true" data-source="2" class="evidence-item bg-white p-3 rounded-lg shadow flex items-center gap-3"><i class="fas fa-shield-virus text-red-500"></i> Captura de la consola del Antivirus Corporativo mostrando todos los equipos con firmas actualizadas.</div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Cierre y Navegación -->
            <section class="text-center mt-20 reveal">
                <h2 class="text-3xl font-bold text-gray-900 mb-4">¡Confianza Construida!</h2>
                <p class="text-lg text-gray-600 max-w-3xl mx-auto mb-8">Has aprendido a interpretar los estándares que rigen la seguridad y la calidad a nivel mundial. En la próxima sesión, auditaremos la seguridad física de los Centros de Datos.</p>
                <div class="flex flex-col sm:flex-row justify-center items-center gap-4">
                    <a href="sesion8.html" class="w-full sm:w-auto inline-block border-2 border-cyan-600 text-cyan-600 font-bold py-3 px-8 rounded-lg shadow-md hover:bg-cyan-100 transition duration-300">
                        <i class="fas fa-arrow-left mr-2"></i> Regresar a la Sesión 8
                    </a>
                    <a href="sesion10.html" class="w-full sm:w-auto inline-block bg-cyan-600 text-white font-bold py-3 px-8 rounded-lg shadow-md hover:bg-cyan-700 transition duration-300">
                        Continuar a la Sesión 10 <i class="fas fa-arrow-right ml-2"></i>
                    </a>
                </div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white mt-20">
        <div class="container mx-auto px-6 py-4 text-center">
            <p>&copy; 2025 - Unidad Didáctica: Soporte de Auditoría de TI. Todos los derechos reservados.</p>
        </div>
    </footer>

    <script>
        // --- General ---
        const revealElements = document.querySelectorAll('.reveal');
        const revealObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) entry.target.classList.add('visible');
            });
        }, { threshold: 0.1 });
        revealElements.forEach(el => revealObserver.observe(el));

        // --- Calidad de Software ---
        function showQualityDetail(detailId) {
            document.querySelectorAll('.quality-detail').forEach(el => el.classList.add('hidden'));
            document.getElementById(`detail-${detailId}`).classList.remove('hidden');
            
            document.querySelectorAll('.quality-card').forEach(el => el.classList.remove('active'));
            document.getElementById(`card-${detailId}`).classList.add('active');
        }
        // Activar el primero por defecto
        document.getElementById('card-funcionalidad').classList.add('active');

        // --- Taller de Mapeo Drag & Drop ---
        const evidenceItems = document.querySelectorAll('.evidence-item');
        const dropTargets = document.querySelectorAll('.drop-target');
        let draggedItem = null;

        evidenceItems.forEach(item => {
            item.addEventListener('dragstart', (e) => {
                draggedItem = e.target;
                setTimeout(() => e.target.style.display = 'none', 0);
            });
            item.addEventListener('dragend', (e) => {
                setTimeout(() => {
                    if (draggedItem) {
                        draggedItem.style.display = 'flex';
                        draggedItem = null;
                    }
                }, 0);
            });
        });

        dropTargets.forEach(target => {
            target.addEventListener('dragover', (e) => {
                e.preventDefault();
                target.classList.add('drag-over');
            });
            target.addEventListener('dragleave', (e) => {
                target.classList.remove('drag-over');
            });
            target.addEventListener('drop', (e) => {
                e.preventDefault();
                target.classList.remove('drag-over');

                if (draggedItem && draggedItem.dataset.source === target.dataset.target) {
                    // Si ya hay un elemento, lo devolvemos al banco
                    if (target.children.length > 0) {
                        document.getElementById('evidence-bank').appendChild(target.firstElementChild);
                    }
                    target.innerHTML = ''; // Limpiar el target
                    draggedItem.style.display = 'flex';
                    target.appendChild(draggedItem);
                    target.classList.add('filled');
                    draggedItem = null;
                } else {
                    // Si se suelta en un lugar incorrecto, no hacer nada y el dragend lo devolverá
                }
            });
        });
    </script>

</body>
</html>
